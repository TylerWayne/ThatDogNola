!function(a){"use strict";var b=a(".mpc-pagination--infinity");b.each(function(){var b=a(this);new MPCwaypoint({element:b[0],handler:function(){b.addClass("mpc-infinity-init").trigger("mpc.infinity")},offset:"80%"})});var c=a(".mpc-pagination");c.on("mpc.init",function(){function b(b,c,d){var e=window["_"+b+"_query"],f=window["_"+b+"_atts"];a.post(_mpc_vars.ajax_url,{action:"mpc_pagination_set",type:c,current:e.paged,query:e,atts:f,dataType:"html"},function(e){var f=a("#"+b),g=d.parents(".mpc-pagination"),h=a(e);if("classic"==c){var i=f.children();f.isotope("remove",i)}mpc_init_lightbox(h,!0),f.append(h).isotope("insert",h);var j=f.find(".mpc-pagination--settings").data("pages"),k=f.find(".mpc-pagination--settings").data("current");f.find(".mpc-pagination--settings").remove(),f.trigger("mpc.loaded"),"infinity"==c&&g.removeClass("mpc-infinity--init"),g.attr("data-current",k).attr("data-pages",j),!g.is(".mpc-pagination--classic")&&j>k?g.removeClass("mpc-disabled"):g.is(".mpc-pagination--classic")&&g.removeClass("mpc-disabled"),g.find(".mpc-current, .mpc-disabled").removeClass("mpc-current mpc-disabled"),g.find('[data-page="'+k+'"]').addClass("mpc-current"),g.is(".mpc-pagination--classic")&&1==k&&g.find(".mpc-pagination__prev").addClass("mpc-disabled"),g.is(".mpc-pagination--classic")&&k==j?g.find(".mpc-pagination__next").addClass("mpc-disabled"):k==j&&g.off().remove()})}var c=a(this);if(c.find("li a").on("click",function(c){c.preventDefault();var d=a(this),e=d.parents(".mpc-pagination"),f=e.attr("data-type"),g=window["_"+e.attr("data-grid")+"_query"],h=parseInt(e.attr("data-current")),i=parseInt(e.attr("data-pages")),j=d.parents("li").attr("data-page");return e.is(".mpc-pagination--classic")?h!=j&&d.parent(".mpc-pagination").is(".mpc-disabled")?"":(e.addClass("mpc-disabled"),"prev"==j?g.paged=h>1?h-1:!1:"next"==j?g.paged=i>h?h+1:!1:g.paged=parseInt(j)!=h?parseInt(j):!1,void(g.paged&&(window["_"+e.attr("data-grid")+"_query"]=g,b(e.attr("data-grid"),f,d)))):""}),c.find(".mpc-pagination__link").on("click",function(c){c.preventDefault();var d=a(this),e=d.parents(".mpc-pagination"),f=e.attr("data-type"),g=parseInt(e.attr("data-current")),h=parseInt(e.attr("data-pages"));return e.is(".mpc-pagination--classic")?"":g>=h||d.is(".mpc-disabled")?"":(d.addClass("mpc-disabled"),window["_"+e.attr("data-grid")+"_query"].paged=g+1,void b(e.attr("data-grid"),f,d))}),c.on("mpc.infinity",function(){var b=a(this);b.is(".mpc-pagination--infinity")&&b.find(".mpc-pagination__link").trigger("click")}),a("#"+c.data("grid")).on("layoutComplete",function(){MPCwaypoint.refreshAll()}),c.is(".mpc--square-init")){var d=c.find(".mpc-pagination__prev"),e=c.find(".mpc-pagination__next"),f=c.find(".mpc-pagination__link"),g=0;a.each(c.find(".mpc-pagination__link"),function(){var b=a(this);g=Math.max(b.width(),b.height(),g)}),f.css({width:g+"px",height:g+"px","line-height":g+"px"}),d.css({height:g+"px","line-height":g+"px"}),e.css({height:g+"px","line-height":g+"px"}),c.removeClass("mpc--square-init").addClass("mpc--square")}c.trigger("mpc.inited")})}(jQuery);